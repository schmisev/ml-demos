import"../chunks/DsnmJJEf.js";import{d as ja,o as za,s as m}from"../chunks/BFMkN5h3.js";import{p as Ga,s as v,a as M,u as Ia,g as a,f as Ra,c as i,b as e,t as xa,d as ga,e as Ja,h as n,i as F,j as b,r as s}from"../chunks/CNKsMUl4.js";import{e as Ka,b as J,r as Oa,i as Qa}from"../chunks/BTPwHqNp.js";import{r as K}from"../chunks/DKXSKoKn.js";import{s as Ua}from"../chunks/Di-E816i.js";import{b as ya}from"../chunks/7yedbubw.js";import{b as Va,C as Ha,a as ka}from"../chunks/C2KyUH3c.js";var Wa=(u,l)=>l(),Xa=(u,l)=>l("H"),Ya=(u,l)=>l("T"),Za=(u,l)=>l(10),at=(u,l)=>l(100),tt=Ra("<span><b> </b></span>"),et=Ra('<div class="flex flex-col gap-2 p-2"><h1>Flipping coins | <a href="../">back</a></h1> <div class="flex flex-col gap-2"><div class="flex flex-row gap-2"><button class="border">Flip!</button> <button class="border">&nbsp;H&nbsp;</button> <button class="border">&nbsp;T&nbsp;</button> <button class="border">Flip 10 times!</button> <button class="border">Flip 100 times!</button> <button class="negative border">Reset!</button></div></div> <div>True p(H) = <input type="number" min="0" max="1" step="0.01"/></div> <div>heads (H): <b> </b> | tails (T): <b> </b></div> <div class="flex flex-row flex-wrap gap-2 border">Sequence: <!></div> <div class="flex flex-col gap-2"><div class="flex flex-row gap-2"><div class="light-border flex flex-col gap-2"><h2>MLE</h2> <div>p(F = H, &theta;<sub>MLE</sub>) = <b> </b></div></div> <div class="light-border flex flex-col gap-2"><h2>MAP</h2> <div>p(F = H, &theta;<sub>MAP</sub>) = <b> </b></div> <label>a = <input type="number" min="0" step="1"/></label> <label>b = <input type="number" min="0" step="1"/></label></div> <div class="light-border"><h2>Fully Bayesian</h2> <div>p(F = H, <i>D</i>) = <b> </b></div></div></div></div> <div class="grid grid-cols-2"><div><canvas></canvas></div> <div><canvas></canvas></div></div></div>');function _t(u,l){Ga(l,!0);let E=v(.5),h=v(M([])),o=v(0),_=v(0),c=v(M([])),Ma=b(()=>a(c)[a(c).length-1]),x=v(M([])),Fa=b(()=>a(x)[a(x).length-1]),p=v(1),f=v(1),Ea=b(()=>(a(o)+a(p))/(a(o)+a(p)+a(_)+a(f))),y=v(M([])),Aa=b(()=>a(y).at(-1)),O=50,H=b(()=>new Array(O+1).fill(1).map((t,r)=>r/O)),Q=b(()=>a(H).map(t=>ka(t,a(p),a(f)))),U=b(()=>a(H).map(t=>ka(t,a(p)+a(o),a(f)+a(_))));Ia(()=>{W(X,!1,a(H),a(Q),a(U))});function Pa(){n(h,[],!0),n(o,0),n(_,0),n(c,[],!0),n(x,[],!0),n(y,[],!0),wa(w)}function k(t){t?(a(h).push(t),t==="H"?F(o):F(_)):Oa(0,1)<a(E)?(a(h).push("H"),F(o)):(a(h).push("T"),F(_)),a(c).push(a(o)/(a(o)+a(_))),a(x).push((a(o)+a(p)-1)/(a(_)+a(o)+a(p)+a(f)-2)),a(y).push(Va(a(Ea),1,0)),W(w,!0,[a(c).length],[a(c).at(-1)],[a(x).at(-1)],[a(y).at(-1)])}function V(t){for(let r=0;r<t;r++)k()}function A(t){return(t*100).toFixed(2)+"%"}function W(t,r,d,...g){if(!t){console.log("No chart!");return}r?t.data.labels?.push(...d):t.data.labels=d,t.data.datasets.forEach((R,ha)=>r?R.data.push(...g[ha]):R.data=g[ha]),t.update()}function wa(t){t.data.labels=[],t.data.datasets.forEach(r=>r.data=[]),t.update()}let P,w,T,X;za(()=>{w=new Ha(P,{type:"line",options:{plugins:{title:{text:"Predictive probability for HEADS",display:!0}},aspectRatio:1.5,scales:{y:{min:0,max:1}}},data:{labels:[],datasets:[{label:"MLE",data:[],pointRadius:0,pointHoverRadius:0},{label:"MAP",data:[],pointRadius:0,pointHoverRadius:0},{label:"Fully Bayesian",data:[],pointRadius:0,pointHoverRadius:0}]}}),X=new Ha(T,{type:"line",options:{plugins:{title:{text:"Probability distributions of HEADS",display:!0}},aspectRatio:1.5,scales:{y:{min:0}}},data:{labels:a(H),datasets:[{label:"prior: Beta(a, b)",data:a(Q),pointRadius:0,pointHoverRadius:0},{label:"posterior: Beta(a+|H|, b+|T|)",data:a(U),pointRadius:0,pointHoverRadius:0}]}})});var L=et(),B=e(i(L),2),Y=i(B),Z=i(Y);Z.__click=[Wa,k];var aa=e(Z,2);aa.__click=[Xa,k];var ta=e(aa,2);ta.__click=[Ya,k];var ea=e(ta,2);ea.__click=[Za,V];var ia=e(ea,2);ia.__click=[at,V];var Ta=e(ia,2);Ta.__click=Pa,s(Y),s(B);var N=e(B,2),sa=e(i(N));K(sa),s(N);var D=e(N,2),S=e(i(D)),La=i(S,!0);s(S);var ra=e(S,2),Ba=i(ra,!0);s(ra),s(D);var q=e(D,2),Na=e(i(q));Ka(Na,17,()=>a(h),Qa,(t,r)=>{var d=tt(),g=i(d),R=i(g,!0);s(g),s(d),xa(()=>{Ua(d,`color: ${a(r)==="H"?"green":"red"};`),m(R,a(r))}),ga(t,d)}),s(q);var C=e(q,2),la=i(C),$=i(la),oa=e(i($),2),da=e(i(oa),3),Da=i(da,!0);s(da),s(oa),s($);var j=e($,2),z=e(i(j),2),va=e(i(z),3),Sa=i(va,!0);s(va),s(z);var G=e(z,2),na=e(i(G));K(na),s(G);var _a=e(G,2),pa=e(i(_a));K(pa),s(_a),s(j);var ba=e(j,2),ua=e(i(ba),2),ca=e(i(ua),3),qa=i(ca,!0);s(ca),s(ua),s(ba),s(la),s(C);var fa=e(C,2),I=i(fa),Ca=i(I);ya(Ca,t=>P=t,()=>P),s(I);var ma=e(I,2),$a=i(ma);ya($a,t=>T=t,()=>T),s(ma),s(fa),s(L),xa((t,r,d)=>{m(La,a(o)),m(Ba,a(_)),m(Da,t),m(Sa,r),m(qa,d)},[()=>A(a(Ma)),()=>A(a(Fa)),()=>A(a(Aa)||NaN)]),J(sa,()=>a(E),t=>n(E,t)),J(na,()=>a(p),t=>n(p,t)),J(pa,()=>a(f),t=>n(f,t)),ga(u,L),Ja()}ja(["click"]);export{_t as component};
