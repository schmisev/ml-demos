import"../chunks/DsnmJJEf.js";import{d as ea,o as ta,s as u}from"../chunks/CyZNo4CR.js";import{p as aa,s as P,a as le,g as e,h as A,f as S,c as r,b as a,t as I,d as w,e as oa,r as o,j as Me,k as ne,n as ra,l as ia,m as je}from"../chunks/KqPx1HY_.js";import{i as ve}from"../chunks/ChnnXWcW.js";import{e as Q,a as sa,c as Pt,r as Bt,g as la,i as Z}from"../chunks/xZyheFNA.js";import{r as na}from"../chunks/Q5wKCx9r.js";import{s as L}from"../chunks/d1tMmt2X.js";import{b as de}from"../chunks/Dk9xXFX6.js";import{b as va}from"../chunks/BLjcO1Vo.js";import{n as Et,N as _e,v as ce,O as Ne,S as Ft,a as Lt,B as Ct,b as Dt,c as Mt,A as jt,D as Nt,I as zt,d as Gt,e as Ht,G as Ut,f as ze,g as C,h as D,i as pe,j as da,k as _a}from"../chunks/D_ahySs1.js";var ca=(ee,B,f)=>{B(),f()},pa=(ee,B,f)=>{B(),f()},ua=(ee,B,f,M)=>{B(e(f)),M()},fa=S("<option> </option>"),ba=S("<option> </option>"),ha=S('<tr><td class="w-4">●</td><td> </td><td><b style="color: lightcoral;"> </b>+<b style="color: blueviolet;"> </b></td><td>=</td><td> </td></tr>'),ga=S('<tr><td class="w-4">●</td><td> </td><td> </td></tr>'),xa=S('<div><b>GOAL ●</b> </div> <div class="flex flex-row items-center rounded-xl bg-gray-100 pl-4">↑ ···</div>',1),ma=S("<div><b>START ●</b> </div>"),ya=S('<div><b>GOAL REACHED ●</b> </div> <div class="flex flex-row items-center rounded-xl bg-gray-100 pl-4">↑ <span class="text-xs"> <b> </b></span></div>',1),wa=S('<div><b> </b> </div> <div class="flex flex-row items-center rounded-xl bg-gray-100 pl-4">↑ <span class="text-xs"> <b> </b></span></div>',1),Sa=S('<div class="flex flex-col"><!></div>'),ka=S("<div><b>START ●</b> </div>"),Ra=S('<div class="grid grid-cols-2 gap-2 p-2"><div class="flex flex-col gap-2"><h1>Search algorithms | <a href="../">back</a></h1> <div class="flex flex-row items-center gap-2 flex-wrap"><button class="border">Random restart</button> <button class="border">Random solve</button> <button class="border">Random autostep</button> <select><option>binary tree</option><option>Romania</option></select> <label>show undiscovered <input type="checkbox"/></label></div> <canvas class="w-full"></canvas></div> <div class="flex grow flex-col gap-2"><div class="flex flex-row gap-2"><button class="border">Restart</button> <button class="border">Step</button> <button class="border">Solve</button> <button class="border">Autostep</button> <select><optgroup label="Breadth first"><option>naive breadth first</option></optgroup><optgroup label="Best first"><option>best first (Dijkstra)</option> <option>greedy best first</option> <option>A* geo distance</option></optgroup><optgroup label="Depth first"><option>naive depth first</option></optgroup><optgroup label="Iterative deepening"><option>iterative deepening</option> <option>optimistic lookahead</option> <option>dead branch pruning</option> <option>optimistic heuristic</option> <option>greedy heuristic</option></optgroup></select></div> <div class="flex flex-row items-center gap-2"><select></select> <div>→</div> <select></select></div> <div class="light-border flex flex-row gap-2"><div class="border-r-2 pr-2">Steps: <b> </b></div> <div class="border-r-2 pr-2">Maximal frontier size: <b> </b></div> <div>Reached size: <b> </b></div></div> <div class="start flex flex-row items-start justify-evenly gap-2"><div class="light-border flex w-1/3 flex-col gap-2"><h2>frontier</h2> <table><tbody></tbody></table></div> <div class="light-border flex w-1/3 flex-col gap-2"><h2>reached</h2> <table><tbody></tbody></table></div> <div class="light-border flex h-full w-1/3 flex-col gap-2"><h2>current path</h2> <div class="flex grow flex-col"><!> <!> <!></div></div></div></div></div>');function Ca(ee,B){aa(B,!0);let f,M=P(le(_e)),j=P(!0),G=700,H=700,te=P(0),ae=P(10),g,U=_e,m,ue,E=P(le(Et(U)));Ge(e(M));function Ge(s){U=s,g=s.physics,m=U.nodes.map(v=>({node:v,pos:ce(Bt(G/4,3*G/4),Bt(H/4,3*H/4)),vel:ce(0,0),grabbed:!1,hovered:!1,discovered:!1})),ue=U.links.map(v=>v),A(E,Et(U),!0)}let oe=P(le(Ne)),n=P(le(new(e(oe))));function W(){A(te,Pt(0,e(E).length),!0),A(ae,Pt(0,e(E).length),!0),K()}function Wt(){for(const s of m)s.discovered=!1}function K(){Wt(),A(n,new(e(oe)),!0),e(n).start(e(E)[e(te)],e(E)[e(ae)])}function He(){const s=e(n).step();e(n).trace_path(),(s===Ft.SUCCESS||s===Ft.FAILURE)&&e(Y)&&be()}function Ue(){e(n).solve(),e(n).trace_path()}let Y=P(!1),fe;function be(){A(Y,!e(Y)),e(Y)?fe=setInterval(He,100):fe!==void 0&&clearInterval(fe)}ta(()=>{let s=ce(),v=!1,d=!1;f.onpointermove=c=>{s=la(f,c)},f.onpointerdown=c=>{f.setPointerCapture(c.pointerId),v=!0,d=!0},f.onpointerup=c=>{f.releasePointerCapture(c.pointerId),d=!1},f.width=G,f.height=H;const t=f.getContext("2d");function _(c,b){return _a(c,b.pos)<g.node_radius*2}function p(){let c,b=0;function N(y){c&&(b=Math.min(.02,(y-c)/1e3)),c=y;const x=m.map(i=>({x:0,y:0}));for(const i of ue){const l=ze(m[i.source].pos,m[i.target].pos),h=pe(l),R=(i.weight*g.zoom-h)*g.spring_stiffness;C(x[i.source],D(l,R/pe(l))),C(x[i.target],D(l,-R/pe(l)))}for(const[i,l]of m.entries()){!l.discovered&&e(n).discovered.has(l.node.id)&&(l.discovered=!0);const h=ce(G/2,H/2),R=ze(h,l.pos);C(x[i],D(R,g.center_pull));for(const[$,T]of m.entries())if(i<$){const F=ze(l.pos,T.pos),z=pe(F),O=g.node_charge/(1+z)**2;C(x[i],D(F,O)),C(x[$],D(F,-O))}}let k=!1;for(const[i,l]of m.entries())!k&&_(s,l)?(v&&(l.grabbed=!0),l.hovered=!0,k=!0):l.hovered=!1,d||(l.grabbed=!1),(e(j)||l.discovered)&&l.grabbed&&d?l.pos=s:(da(l.vel,1-g.drag),C(l.vel,D(x[i],b)),C(l.pos,D(l.vel,b*g.speed)));t.clearRect(0,0,G,H);for(const i of ue){const l=m[i.source],h=m[i.target];t.save(),(e(j)||l.discovered&&h.discovered)&&(e(n).link_path.includes(i.id)&&(t.strokeStyle="lightcoral",t.lineWidth=4),t.beginPath(),t.moveTo(l.pos.x,l.pos.y),t.lineTo(h.pos.x,h.pos.y),t.stroke()),t.restore()}t.save(),t.shadowBlur=5,t.shadowOffsetX=2,t.shadowOffsetY=2,t.shadowColor="rgba(0, 0, 0, 0.2)";for(const i of m){t.fillStyle="white";const l=e(n).is_in_frontier(i.node.id);e(n).current&&e(n).current.state.node.id===i.node.id?e(n).goal&&e(n).goal.node.id===i.node.id?t.fillStyle="green":t.fillStyle="red":e(n).node_path.includes(i.node.id)?t.fillStyle="lightcoral":e(n).goal&&e(n).goal.node.id===i.node.id?t.fillStyle="lightgreen":l?t.fillStyle="lightblue":e(n).reached.has(i.node.id)?t.fillStyle="black":e(n).branch_roots.has(i.node.id)&&(t.fillStyle="orange"),(e(j)||i.discovered)&&(t.beginPath(),t.ellipse(i.pos.x,i.pos.y,g.node_radius,g.node_radius,0,0,Math.PI*2),t.stroke(),t.fill(),i.grabbed&&(t.beginPath(),t.ellipse(i.pos.x,i.pos.y,g.node_radius*2,g.node_radius*2,0,0,Math.PI*2),t.stroke()),t.save(),(i.hovered||i.grabbed)&&(t.beginPath(),t.fillStyle="yellow",t.ellipse(i.pos.x,i.pos.y,g.node_radius,g.node_radius,0,0,Math.PI*2),t.fill()),t.restore())}t.restore(),t.textAlign="center",t.textBaseline="middle",t.save();for(const i of m)(e(j)||i.discovered)&&t.fillText(i.node.name,i.pos.x,i.pos.y-g.node_radius*2);t.restore(),v=!1,requestAnimationFrame(N)}N(0)}p()}),W();var he=Ra(),ge=r(he),xe=a(r(ge),2),We=r(xe);We.__click=W;var Ke=a(We,2);Ke.__click=[ca,W,Ue];var Ye=a(Ke,2);Ye.__click=[pa,W,be];var q=a(Ye,2);q.__change=[ua,Ge,M,W];var me=r(q),qe={},Ve=a(me),Xe={};o(q);var Je=a(q,2),Qe=a(r(Je));na(Qe),o(Je),o(xe);var Kt=a(xe,2);va(Kt,s=>f=s,()=>f),o(ge);var Ze=a(ge,2),ye=r(Ze),et=r(ye);et.__click=K;var tt=a(et,2);tt.__click=He;var at=a(tt,2);at.__click=Ue;var we=a(at,2);we.__click=be;var re=a(we,2);re.__change=K;var Se=r(re),ot=r(Se),rt={};o(Se);var ke=a(Se),Re=r(ke),it={},$e=a(Re,2),st={},lt=a($e,2),nt={};o(ke);var Ae=a(ke),vt=r(Ae),dt={};o(Ae);var _t=a(Ae),Ie=r(_t),ct={},Te=a(Ie,2),pt={},Oe=a(Te,2),ut={},Pe=a(Oe,2),ft={},bt=a(Pe,2),ht={};o(_t),o(re),o(ye);var Be=a(ye,2),V=r(Be);V.__change=K,Q(V,21,()=>e(E).entries(),Z,(s,v)=>{var d=Me(()=>je(e(v),2));let t=()=>e(d)[0],_=()=>e(d)[1];var p=fa(),c=r(p);o(p);var b={};I(()=>{u(c,`${_().node.id??""} : ${_().node.name??""}`),b!==(b=t())&&(p.value=(p.__value=t())??"")}),w(s,p)}),o(V);var ie=a(V,4);ie.__change=K,Q(ie,21,()=>e(E).entries(),Z,(s,v)=>{var d=Me(()=>je(e(v),2));let t=()=>e(d)[0],_=()=>e(d)[1];var p=ba(),c=r(p);o(p);var b={};I(()=>{u(c,`${_().node.id??""} : ${_().node.name??""}`),b!==(b=t())&&(p.value=(p.__value=t())??"")}),w(s,p)}),o(ie),o(Be);var Ee=a(Be,2),Fe=r(Ee),gt=a(r(Fe)),Yt=r(gt,!0);o(gt),o(Fe);var Le=a(Fe,2),xt=a(r(Le)),qt=r(xt,!0);o(xt),o(Le);var mt=a(Le,2),yt=a(r(mt)),Vt=r(yt,!0);o(yt),o(mt),o(Ee);var wt=a(Ee,2),Ce=r(wt),St=a(r(Ce),2),kt=r(St);Q(kt,21,()=>e(n).frontier,Z,(s,v)=>{var d=ha(),t=r(d);L(t,"color: lightblue");var _=a(t),p=r(_,!0);o(_);var c=a(_),b=r(c),N=r(b,!0);o(b);var y=a(b,2),x=r(y,!0);o(y),o(c);var k=a(c,2),i=r(k,!0);o(k),o(d),I((l,h)=>{u(p,e(v).state.node.name),u(N,e(v).path_cost),u(x,l),u(i,h)},[()=>e(v).heuristic.toFixed(1),()=>(e(v).path_cost+e(v).heuristic).toFixed(1)]),w(s,d)}),o(kt),o(St),o(Ce);var De=a(Ce,2),Rt=a(r(De),2),$t=r(Rt);Q($t,21,()=>e(n).reached.values(),Z,(s,v)=>{var d=ga(),t=a(r(d)),_=r(t,!0);o(t);var p=a(t),c=r(p,!0);o(p),o(d),I(()=>{u(_,e(v).state.node.name),u(c,e(v).path_cost)}),w(s,d)}),o($t),o(Rt),o(De);var At=a(De,2),It=a(r(At),2),Tt=r(It);{var Xt=s=>{var v=xa(),d=ne(v),t=r(d);L(t,"color: lightgreen");var _=a(t);o(d),ra(2),I(()=>u(_,` ${e(n).goal?.node.name??""}`)),w(s,v)};ve(Tt,s=>{e(n).current?.state.node.id!==e(n).goal?.node.id&&s(Xt)})}var Ot=a(Tt,2);Q(Ot,17,()=>e(n).full_path.entries(),Z,(s,v)=>{var d=Me(()=>je(e(v),2));let t=()=>e(d)[0],_=()=>e(d)[1];var p=Sa(),c=r(p);{var b=y=>{var x=ma(),k=r(x),i=a(k);o(x),I(()=>{L(k,`color: ${t()===0?"red":"lightcoral"}`),u(i,` ${_().state.node.name??""}`)}),w(y,x)},N=y=>{var x=ia(),k=ne(x);{var i=h=>{var R=ya(),$=ne(R),T=r($);L(T,"color: green");var F=a(T);o($);var z=a($,2),O=a(r(z)),X=r(O),J=a(X),se=r(J,!0);o(J),o(O),o(z),I(()=>{u(F,` ${_().state.node.name??""}`),u(X,`+${(_().action?.weight||0)??""} = `),u(se,_().path_cost)}),w(h,R)},l=h=>{var R=wa(),$=ne(R),T=r($),F=r(T);o(T);var z=a(T);o($);var O=a($,2),X=a(r(O)),J=r(X),se=a(J),Zt=r(se,!0);o(se),o(X),o(O),I(()=>{L(T,`color: ${t()===0?"red":"lightcoral"}`),u(F,`${t()===0?"CURRENT":""} ●`),u(z,` ${_().state.node.name??""}`),u(J,`+${(_().action?.weight||0)??""} = `),u(Zt,_().path_cost)}),w(h,R)};ve(k,h=>{t()===0&&e(n).goal?.node.id===e(n).current?.state.node.id?h(i):h(l,!1)},!0)}w(y,x)};ve(c,y=>{t()===e(n).full_path.length-1?y(b):y(N,!1)})}o(p),w(s,p)});var Jt=a(Ot,2);{var Qt=s=>{var v=ka(),d=r(v);L(d,"color: red");var t=a(d);o(v),I(()=>u(t,` ${(e(n).current?.state.node.name||"no start node")??""}`)),w(s,v)};ve(Jt,s=>{e(n).full_path.length===0&&s(Qt)})}o(It),o(At),o(wt),o(Ze),o(he),I(()=>{qe!==(qe=Lt)&&(me.value=(me.__value=Lt)??""),Xe!==(Xe=_e)&&(Ve.value=(Ve.__value=_e)??""),L(we,`${e(Y)?"background-color: lightcoral":""};`),rt!==(rt=Ct)&&(ot.value=(ot.__value=Ct)??""),it!==(it=Dt)&&(Re.value=(Re.__value=Dt)??""),st!==(st=Mt)&&($e.value=($e.__value=Mt)??""),nt!==(nt=jt)&&(lt.value=(lt.__value=jt)??""),dt!==(dt=Nt)&&(vt.value=(vt.__value=Nt)??""),ct!==(ct=zt)&&(Ie.value=(Ie.__value=zt)??""),pt!==(pt=Ne)&&(Te.value=(Te.__value=Ne)??""),ut!==(ut=Gt)&&(Oe.value=(Oe.__value=Gt)??""),ft!==(ft=Ht)&&(Pe.value=(Pe.__value=Ht)??""),ht!==(ht=Ut)&&(bt.value=(bt.__value=Ut)??""),u(Yt,e(n).step_count),u(qt,e(n).frontier_size),u(Vt,e(n).reached_size)}),de(q,()=>e(M),s=>A(M,s)),sa(Qe,()=>e(j),s=>A(j,s)),de(re,()=>e(oe),s=>A(oe,s)),de(V,()=>e(te),s=>A(te,s)),de(ie,()=>e(ae),s=>A(ae,s)),w(ee,he),oa()}ea(["click","change"]);export{Ca as component};
