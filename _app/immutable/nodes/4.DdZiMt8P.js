import"../chunks/DsnmJJEf.js";import{d as Oa,o as Va,s as c}from"../chunks/BFMkN5h3.js";import{p as ja,s as d,a as M,u as za,g as a,f as ka,c as i,b as e,t as xa,d as ya,e as Ja,j as o,h as v,r as s}from"../chunks/CNKsMUl4.js";import{e as Ka,b as E,a as Ra,i as Qa}from"../chunks/BTPwHqNp.js";import{r as k}from"../chunks/DKXSKoKn.js";import{b as Pa}from"../chunks/7yedbubw.js";import{g as Ma,C as Ea}from"../chunks/C2KyUH3c.js";import{_ as Ua}from"../chunks/PPVm8Dsz.js";globalThis.process?.versions?.webcontainer;Ua(()=>import("../chunks/BIHI7g3E.js"),[],import.meta.url).then(b=>new b.AsyncLocalStorage).catch(()=>{});var Wa=(b,n)=>n(),Xa=(b,n)=>n(10),Ya=(b,n)=>n(100),Za=ka("<span><b> </b></span>"),at=ka('<div class="flex flex-col gap-2 p-2"><h1>Scoring points | <a href="../">back</a></h1> <div class="flex flex-col gap-2"><div class="flex flex-row gap-2"><button class="border">Play!</button> <button class="border">Play 10 times!</button> <button class="border">Play 100 times!</button> <button class="negative border">Reset!</button></div></div> <div>True &lambda;<sub>a</sub> = <input type="number" min="0" max="10" step="1"/></div> <div>True &lambda;<sub>b</sub> = <input type="number" min="0" max="10" step="1"/></div> <div>avg. goals: <b> </b> | sum of goals: <b> </b></div> <div class="flex flex-row flex-wrap gap-2 border">Sequence: <!></div> <div class="flex flex-col gap-2"><div class="flex flex-row gap-2"><div class="light-border flex flex-col gap-2"><h2>MLE</h2> <div>&lambda;<sub>MLE</sub> = <b> </b></div></div> <div class="light-border flex flex-col gap-2"><h2>MAP</h2> <div>&lambda;<sub>MAP</sub> = <b> </b></div> <label>&alpha; = <input type="number" min="0" step="1"/></label> <label>&beta; = <input type="number" min="0" step="1"/></label></div> <div class="light-border"><h2>Fully Bayesian</h2> <div>&lambda;<sub>FB</sub> = <b> </b></div></div></div></div> <div class="grid grid-cols-2"><div><canvas></canvas></div> <div><canvas></canvas></div></div></div>');function vt(b,n){ja(n,!0);let w=d(2),A=d(1),m=d(M([])),L=o(()=>a(m).map(t=>t.team_a+t.team_b)),x=o(()=>a(L).length),f=o(()=>a(L).reduce((t,l)=>t+l,0)),J=o(()=>a(f)/a(L).length),p=d(M([])),wa=o(()=>a(p)[a(p).length-1]),g=d(M([])),Aa=o(()=>a(g)[a(g).length-1]),u=d(4),_=d(2),y=d(M([])),La=o(()=>a(y).at(-1)),Fa=6,K=200,R=o(()=>new Array(K+1).fill(1).map((t,l)=>Fa*l/K)),Q=o(()=>a(R).map(t=>Ma(t,a(u),a(_)))),U=o(()=>a(R).map(t=>Ma(t,a(u)+a(f),a(_)+a(x))));za(()=>{Y(Z,!1,a(R),a(Q),a(U))});function Ha(){v(m,[],!0),v(p,[],!0),v(g,[],!0),v(y,[],!0),Sa(H)}function W(t){t?a(m).push(t):a(m).push({team_a:Ra(a(w),100),team_b:Ra(a(A),100)}),a(p).push(a(J)),a(g).push((a(f)+a(u)-1)/(a(_)+a(x)));const l=a(u)+a(f),r=(a(_)+a(x))/(a(_)+a(x)+1);a(y).push(l*(1-r)/r),Y(H,!0,[a(p).length],[a(p).at(-1)],[a(g).at(-1)],[a(y).at(-1)])}function X(t){for(let l=0;l<t;l++)W()}function Y(t,l,r,...h){if(!t){console.log("No chart!");return}l?t.data.labels?.push(...r):t.data.labels=r,t.data.datasets.forEach((P,ha)=>l?P.data.push(...h[ha]):P.data=h[ha]),t.update()}function Sa(t){t.data.labels=[],t.data.datasets.forEach(l=>l.data=[]),t.update()}let F,H,S,Z;Va(()=>{H=new Ea(F,{type:"line",options:{plugins:{title:{text:"Predicted number of goals",display:!0}},aspectRatio:1.5,scales:{y:{min:0}}},data:{labels:[],datasets:[{label:"MLE",data:[],pointRadius:0,pointHoverRadius:0},{label:"MAP",data:[],pointRadius:0,pointHoverRadius:0},{label:"Fully Bayesian",data:[],pointRadius:0,pointHoverRadius:0}]}}),Z=new Ea(S,{type:"line",options:{plugins:{title:{text:"Probability distributions of HEADS",display:!0}},aspectRatio:1.5,scales:{y:{min:0}}},data:{labels:a(R),datasets:[{label:"prior: Gamma(p, b)",data:a(Q),pointRadius:0,pointHoverRadius:0},{label:"posterior: Gamma(p+S, b+N)",data:a(U),pointRadius:0,pointHoverRadius:0}]}})});var N=at(),T=e(i(N),2),aa=i(T),ta=i(aa);ta.__click=[Wa,W];var ea=e(ta,2);ea.__click=[Xa,X];var ia=e(ea,2);ia.__click=[Ya,X];var Na=e(ia,2);Na.__click=Ha,s(aa),s(T);var B=e(T,2),sa=e(i(B),3);k(sa),s(B);var $=e(B,2),la=e(i($),3);k(la),s($);var q=e($,2),C=e(i(q)),Ta=i(C,!0);s(C);var ra=e(C,2),Ba=i(ra,!0);s(ra),s(q);var D=e(q,2),$a=e(i(D));Ka($a,17,()=>a(m),Qa,(t,l)=>{var r=Za(),h=i(r),P=i(h);s(h),s(r),xa(()=>c(P,`${a(l).team_a??""}:${a(l).team_b??""}`)),ya(t,r)}),s(D);var G=e(D,2),oa=i(G),I=i(oa),da=e(i(I),2),va=e(i(da),3),qa=i(va,!0);s(va),s(da),s(I);var O=e(I,2),V=e(i(O),2),na=e(i(V),3),Ca=i(na,!0);s(na),s(V);var j=e(V,2),_a=e(i(j));k(_a),s(j);var ba=e(j,2),pa=e(i(ba));k(pa),s(ba),s(O);var ua=e(O,2),ca=e(i(ua),2),ma=e(i(ca),3),Da=i(ma,!0);s(ma),s(ca),s(ua),s(oa),s(G);var fa=e(G,2),z=i(fa),Ga=i(z);Pa(Ga,t=>F=t,()=>F),s(z);var ga=e(z,2),Ia=i(ga);Pa(Ia,t=>S=t,()=>S),s(ga),s(fa),s(N),xa((t,l,r)=>{c(Ta,a(J)),c(Ba,a(f)),c(qa,t),c(Ca,l),c(Da,r)},[()=>(a(wa)||0).toFixed(2),()=>(a(Aa)||0).toFixed(2),()=>(a(La)||0).toFixed(2)]),E(sa,()=>a(w),t=>v(w,t)),E(la,()=>a(A),t=>v(A,t)),E(_a,()=>a(u),t=>v(u,t)),E(pa,()=>a(_),t=>v(_,t)),ya(b,N),Ja()}Oa(["click"]);export{vt as component};
