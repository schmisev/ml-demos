import"../chunks/DsnmJJEf.js";import{o as Oa}from"../chunks/Cnrimmix.js";import{p as Va,s as v,a as M,u as ja,g as a,f as ka,c as i,b as e,t as xa,d as ya,e as za,j as o,h as n,r as s}from"../chunks/4GbpYj1Z.js";import{d as Ja,s as c}from"../chunks/BtTk71Kd.js";import{e as Ka,i as Qa}from"../chunks/C_cjGUXz.js";import{r as E}from"../chunks/CG_wtlq_.js";import{b as k}from"../chunks/D7mxgv5f.js";import{b as Ra}from"../chunks/1gkgI-oG.js";import{c as Pa}from"../chunks/CK5eLMkr.js";import{g as Ma,C as Ea}from"../chunks/BimDpK6v.js";import{_ as Ua}from"../chunks/PPVm8Dsz.js";globalThis.process?.versions?.webcontainer;Ua(()=>import("../chunks/D7Ct-6yo.js").then(d=>d._),[],import.meta.url).then(d=>new d.AsyncLocalStorage).catch(()=>{});var Wa=(d,_)=>_(),Xa=(d,_)=>_(10),Ya=(d,_)=>_(100),Za=ka("<span><b> </b></span>"),at=ka('<div class="flex flex-col gap-2 p-2"><h1>Scoring points | <a href="../">back</a></h1> <div class="flex flex-col gap-2"><div class="flex flex-row gap-2"><button class="border">Play!</button> <button class="border">Play 10 times!</button> <button class="border">Play 100 times!</button> <button class="negative border">Reset!</button></div></div> <div>True &lambda;<sub>a</sub> = <input type="number" min="0" max="10" step="1"/></div> <div>True &lambda;<sub>b</sub> = <input type="number" min="0" max="10" step="1"/></div> <div>avg. goals: <b> </b> | sum of goals: <b> </b></div> <div class="flex flex-row flex-wrap gap-2 border">Sequence: <!></div> <div class="flex flex-col gap-2"><div class="flex flex-row gap-2"><div class="light-border flex flex-col gap-2"><h2>MLE</h2> <div>&lambda;<sub>MLE</sub> = <b> </b></div></div> <div class="light-border flex flex-col gap-2"><h2>MAP</h2> <div>&lambda;<sub>MAP</sub> = <b> </b></div> <label>&alpha; = <input type="number" min="0" step="1"/></label> <label>&beta; = <input type="number" min="0" step="1"/></label></div> <div class="light-border"><h2>Fully Bayesian</h2> <div>&lambda;<sub>FB</sub> = <b> </b></div></div></div></div> <div class="grid grid-cols-2"><div><canvas></canvas></div> <div><canvas></canvas></div></div></div>');function bt(d,_){Va(_,!0);let w=v(2),A=v(1),m=v(M([])),L=o(()=>a(m).map(t=>t.team_a+t.team_b)),x=o(()=>a(L).length),f=o(()=>a(L).reduce((t,r)=>t+r,0)),J=o(()=>a(f)/a(L).length),p=v(M([])),wa=o(()=>a(p)[a(p).length-1]),g=v(M([])),Aa=o(()=>a(g)[a(g).length-1]),u=v(4),b=v(2),y=v(M([])),La=o(()=>a(y).at(-1)),Fa=6,K=200,R=o(()=>new Array(K+1).fill(1).map((t,r)=>Fa*r/K)),Q=o(()=>a(R).map(t=>Ma(t,a(u),a(b)))),U=o(()=>a(R).map(t=>Ma(t,a(u)+a(f),a(b)+a(x))));ja(()=>{Y(Z,!1,a(R),a(Q),a(U))});function Ha(){n(m,[],!0),n(p,[],!0),n(g,[],!0),n(y,[],!0),Sa(H)}function W(t){t?a(m).push(t):a(m).push({team_a:Pa(a(w),100),team_b:Pa(a(A),100)}),a(p).push(a(J)),a(g).push((a(f)+a(u)-1)/(a(b)+a(x)));const r=a(u)+a(f),l=(a(b)+a(x))/(a(b)+a(x)+1);a(y).push(r*(1-l)/l),Y(H,!0,[a(p).length],[a(p).at(-1)],[a(g).at(-1)],[a(y).at(-1)])}function X(t){for(let r=0;r<t;r++)W()}function Y(t,r,l,...h){if(!t){console.log("No chart!");return}r?t.data.labels?.push(...l):t.data.labels=l,t.data.datasets.forEach((P,ha)=>r?P.data.push(...h[ha]):P.data=h[ha]),t.update()}function Sa(t){t.data.labels=[],t.data.datasets.forEach(r=>r.data=[]),t.update()}let F,H,S,Z;Oa(()=>{H=new Ea(F,{type:"line",options:{plugins:{title:{text:"Predicted number of goals",display:!0}},aspectRatio:1.5,scales:{y:{min:0}}},data:{labels:[],datasets:[{label:"MLE",data:[],pointRadius:0,pointHoverRadius:0},{label:"MAP",data:[],pointRadius:0,pointHoverRadius:0},{label:"Fully Bayesian",data:[],pointRadius:0,pointHoverRadius:0}]}}),Z=new Ea(S,{type:"line",options:{plugins:{title:{text:"Probability distributions of HEADS",display:!0}},aspectRatio:1.5,scales:{y:{min:0}}},data:{labels:a(R),datasets:[{label:"prior: Gamma(p, b)",data:a(Q),pointRadius:0,pointHoverRadius:0},{label:"posterior: Gamma(p+S, b+N)",data:a(U),pointRadius:0,pointHoverRadius:0}]}})});var N=at(),T=e(i(N),2),aa=i(T),ta=i(aa);ta.__click=[Wa,W];var ea=e(ta,2);ea.__click=[Xa,X];var ia=e(ea,2);ia.__click=[Ya,X];var Na=e(ia,2);Na.__click=Ha,s(aa),s(T);var B=e(T,2),sa=e(i(B),3);E(sa),s(B);var $=e(B,2),ra=e(i($),3);E(ra),s($);var q=e($,2),C=e(i(q)),Ta=i(C,!0);s(C);var la=e(C,2),Ba=i(la,!0);s(la),s(q);var D=e(q,2),$a=e(i(D));Ka($a,17,()=>a(m),Qa,(t,r)=>{var l=Za(),h=i(l),P=i(h);s(h),s(l),xa(()=>c(P,`${a(r).team_a??""}:${a(r).team_b??""}`)),ya(t,l)}),s(D);var G=e(D,2),oa=i(G),I=i(oa),da=e(i(I),2),va=e(i(da),3),qa=i(va,!0);s(va),s(da),s(I);var O=e(I,2),V=e(i(O),2),na=e(i(V),3),Ca=i(na,!0);s(na),s(V);var j=e(V,2),_a=e(i(j));E(_a),s(j);var ba=e(j,2),pa=e(i(ba));E(pa),s(ba),s(O);var ua=e(O,2),ca=e(i(ua),2),ma=e(i(ca),3),Da=i(ma,!0);s(ma),s(ca),s(ua),s(oa),s(G);var fa=e(G,2),z=i(fa),Ga=i(z);Ra(Ga,t=>F=t,()=>F),s(z);var ga=e(z,2),Ia=i(ga);Ra(Ia,t=>S=t,()=>S),s(ga),s(fa),s(N),xa((t,r,l)=>{c(Ta,a(J)),c(Ba,a(f)),c(qa,t),c(Ca,r),c(Da,l)},[()=>(a(wa)||0).toFixed(2),()=>(a(Aa)||0).toFixed(2),()=>(a(La)||0).toFixed(2)]),k(sa,()=>a(w),t=>n(w,t)),k(ra,()=>a(A),t=>n(A,t)),k(_a,()=>a(u),t=>n(u,t)),k(pa,()=>a(b),t=>n(b,t)),ya(d,N),za()}Ja(["click"]);export{bt as component};
