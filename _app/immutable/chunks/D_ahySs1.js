import{s as h,aq as v,ar as N,g as n,h as o,as as l,a as d}from"./KqPx1HY_.js";const y={zoom:.5,speed:1.5,spring_stiffness:100,node_charge:5e3,center_pull:.5,drag:.08,node_radius:7};function P(r){let t=0;const e=r.nodes.map(function(i){return{node:i,links:[]}});for(const i of r.links){const s=e[i.source],a=e[i.target];s.links.push({id:t++,link_id:i.id,to:a,weight:i.weight}),a.links.push({id:t++,link_id:i.id,to:s,weight:i.weight})}return e}const B={physics:y,nodes:[{id:0,name:"Arad",meta:{coord:{lat:46.1667,lon:21.3167}}},{id:1,name:"Zerind",meta:{coord:{lat:46.6167,lon:21.5167}}},{id:2,name:"Oradea",meta:{coord:{lat:47.0722,lon:21.9211}}},{id:3,name:"Sibiu",meta:{coord:{lat:45.7928,lon:24.1522}}},{id:4,name:"Timișoara",meta:{coord:{lat:45.7489,lon:21.2087}}},{id:5,name:"Lugoj",meta:{coord:{lat:45.6886,lon:21.9031}}},{id:6,name:"Mehadia",meta:{coord:{lat:44.9,lon:22.3667}}},{id:7,name:"Dobreta",meta:{coord:{lat:44.6369,lon:22.6597}}},{id:8,name:"Craiova",meta:{coord:{lat:44.3167,lon:23.8}}},{id:9,name:"Râmnicu Vâlcea",meta:{coord:{lat:45.1,lon:24.3667}}},{id:10,name:"Pitești",meta:{coord:{lat:44.8565,lon:24.8692}}},{id:11,name:"Bucharest",meta:{coord:{lat:44.4325,lon:26.1039}}},{id:12,name:"Făgăraș",meta:{coord:{lat:45.8411,lon:24.9739}}},{id:13,name:"Giurgiu",meta:{coord:{lat:43.9,lon:25.9667}}},{id:14,name:"Urziceni",meta:{coord:{lat:44.7167,lon:26.6333}}},{id:15,name:"Hârșova",meta:{coord:{lat:44.6833,lon:27.9333}}},{id:16,name:"Eforie",meta:{coord:{lat:44.0667,lon:28.6333}}},{id:17,name:"Vaslui",meta:{coord:{lat:46.6333,lon:27.7333}}},{id:18,name:"Iași",meta:{coord:{lat:47.1622,lon:27.5889}}},{id:19,name:"Neamț",meta:{coord:{lat:46.9333,lon:26.3667}}}],links:[{id:0,source:0,target:1,weight:75},{id:1,source:1,target:2,weight:71},{id:2,source:2,target:3,weight:151},{id:3,source:0,target:4,weight:118},{id:4,source:0,target:3,weight:140},{id:5,source:4,target:5,weight:111},{id:6,source:5,target:6,weight:70},{id:7,source:6,target:7,weight:75},{id:8,source:7,target:8,weight:120},{id:9,source:8,target:9,weight:146},{id:10,source:3,target:9,weight:80},{id:11,source:8,target:10,weight:138},{id:12,source:9,target:10,weight:97},{id:13,source:10,target:11,weight:101},{id:14,source:3,target:12,weight:99},{id:15,source:12,target:11,weight:211},{id:16,source:11,target:13,weight:90},{id:17,source:13,target:14,weight:85},{id:18,source:14,target:15,weight:98},{id:19,source:15,target:16,weight:86},{id:20,source:14,target:17,weight:142},{id:21,source:17,target:18,weight:92},{id:22,source:18,target:19,weight:87}]},L=(()=>{const r={physics:{...y,node_charge:3e3,zoom:25,center_pull:5},nodes:[{id:0,name:"root"}],links:[]};let t=0,e=0;const i=(s,a)=>{if(s<=0)return;const u=e+1,c=e+2;e+=2,r.nodes.push({id:u,name:`L${u}`},{id:c,name:`R${c}`}),r.links.push({id:t++,source:a,target:u,weight:1},{id:t++,source:a,target:c,weight:1}),i(s-1,u),i(s-1,c)};return i(6,0),r})();class x extends Map{#t=new Map;#e=h(0);#r=h(0);#n=v||-1;constructor(t){if(super(),t){for(var[e,i]of t)super.set(e,i);this.#r.v=super.size}}#i(t){return v===this.#n?h(t):N(t)}has(t){var e=this.#t,i=e.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=this.#i(0),e.set(t,i);else return n(this.#e),!1}return n(i),!0}forEach(t,e){this.#s(),super.forEach(t,e)}get(t){var e=this.#t,i=e.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=this.#i(0),e.set(t,i);else{n(this.#e);return}}return n(i),super.get(t)}set(t,e){var i=this.#t,s=i.get(t),a=super.get(t),u=super.set(t,e),c=this.#e;if(s===void 0)s=this.#i(0),i.set(t,s),o(this.#r,super.size),l(c);else if(a!==e){l(s);var f=c.reactions===null?null:new Set(c.reactions),_=f===null||!s.reactions?.every(p=>f.has(p));_&&l(c)}return u}delete(t){var e=this.#t,i=e.get(t),s=super.delete(t);return i!==void 0&&(e.delete(t),o(this.#r,super.size),o(i,-1),l(this.#e)),s}clear(){if(super.size!==0){super.clear();var t=this.#t;o(this.#r,0);for(var e of t.values())o(e,-1);l(this.#e),t.clear()}}#s(){n(this.#e);var t=this.#t;if(this.#r.v!==t.size){for(var e of super.keys())if(!t.has(e)){var i=this.#i(0);t.set(e,i)}}for([,i]of this.#t)n(i)}keys(){return n(this.#e),super.keys()}values(){return this.#s(),super.values()}entries(){return this.#s(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return n(this.#r),super.size}}function b(r,t){return 0}function g(r,t){if(!r.meta||!r.meta.coord||!t.meta||!t.meta.coord)return 0;const{lat:e,lon:i}=r.meta.coord,{lat:s,lon:a}=t.meta.coord,u=6371e3,c=e*Math.PI/180,f=s*Math.PI/180,_=(s-e)*Math.PI/180,p=(a-i)*Math.PI/180,w=Math.sin(_/2)*Math.sin(_/2)+Math.cos(c)*Math.cos(f)*Math.sin(p/2)*Math.sin(p/2),M=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return u*M/1e3}function I(r){return r.weight}function z(r){return 0}var E=(r=>(r[r.FAILURE=0]="FAILURE",r[r.SUCCESS=1]="SUCCESS",r[r.CONTINUE=2]="CONTINUE",r[r.CUTOFF=3]="CUTOFF",r))(E||{});class m{#t=h(d(new x));get reached(){return n(this.#t)}set reached(t){o(this.#t,t,!0)}#e=h(d([]));get frontier(){return n(this.#e)}set frontier(t){o(this.#e,t,!0)}discovered=new Set;#r=h(d(new x));get branch_roots(){return n(this.#r)}set branch_roots(t){o(this.#r,t,!0)}#n=h(d([]));get full_path(){return n(this.#n)}set full_path(t){o(this.#n,t,!0)}#i=h(d([]));get node_path(){return n(this.#i)}set node_path(t){o(this.#i,t,!0)}#s=h(d([]));get link_path(){return n(this.#s)}set link_path(t){o(this.#s,t,!0)}#o=h();get init(){return n(this.#o)}set init(t){o(this.#o,t,!0)}#h=h();get goal(){return n(this.#h)}set goal(t){o(this.#h,t,!0)}#a=h();get current(){return n(this.#a)}set current(t){o(this.#a,t,!0)}#c=h(0);get step_count(){return n(this.#c)}set step_count(t){o(this.#c,t,!0)}#u=h(0);get frontier_size(){return n(this.#u)}set frontier_size(t){o(this.#u,t,!0)}#d=h(0);get reached_size(){return n(this.#d)}set reached_size(t){o(this.#d,t,!0)}#l=h(d(b));get heuristic(){return n(this.#l)}set heuristic(t){o(this.#l,t,!0)}#f=h(d(I));get weight(){return n(this.#f)}set weight(t){o(this.#f,t,!0)}prune(t){for(;t;){const e=this.branch_roots.get(t.state.node.id);if(e){e.branching_factor--,e.branching_factor<=1&&this.branch_roots.delete(t.state.node.id);return}if(this.reached.set(t.state.node.id,t),!t.parent)return;t=t.parent}}frontier_is_empty(){return this.frontier.length<=0}is_in_frontier(t){for(const e of this.frontier)if(e.state.node.id===t)return!0;return!1}is_in_cycle(t){let e=this.current;if(!e)throw"No current node!";for(;e;){if(e.state.node.id===t)return!0;if(!e.parent)return!1;e=e.parent}return!1}pop_frontier(){const t=this.frontier.shift();if(!t)throw"Unchecked, empty frontier!";return t}shift_frontier(){const t=this.frontier.pop();if(!t)throw"Unchecked, empty frontier!";return t}push_frontier(t){this.frontier.push(t),this.discovered.add(t.state.node.id)}is_goal(t){return!!this.goal&&t===this.goal.node.id}total_cost(t){return t.path_cost+t.heuristic}local_cost(t){return this.weight(t)+this.heuristic(t.to.node,this.goal.node)}*expand(t=0){if(!this.current)throw"Current node is not initialized!";const e=this.current.state;let i;t===1?i=e.links.toSorted((s,a)=>this.local_cost(s)-this.local_cost(a)):t===2?i=e.links.toSorted((s,a)=>this.local_cost(a)-this.local_cost(s)):i=e.links;for(const s of i)yield{state:s.to,action:s,parent:this.current,path_cost:this.current.path_cost+this.weight(s),depth:this.current.depth+1,heuristic:this.heuristic(s.to.node,this.goal.node)}}start(t,e,i=!0){return this.init=t,this.current={state:t,action:null,parent:null,path_cost:0,depth:0,heuristic:0},this.goal=e,i&&(this.reached.clear(),this.step_count=0,this.frontier_size=0,this.reached_size=0),this.reached.set(this.init.node.id,this.current),this.frontier=[this.current],this.discovered=new Set([this.current.state.node.id]),this.is_goal(this.current.state.node.id)?1:2}trace_path(){this.full_path=[],this.node_path=[],this.link_path=[];let t=this.current;for(;t&&(this.full_path.push(t),this.node_path.push(t.state.node.id),t.action&&this.link_path.push(t.action.link_id),t.parent);)t=t.parent}solve(){for(let t=0;t<10**5;t++){const e=this.step();if(!(e===2||e===3))return e}return 0}step(){const t=this._step();switch(t){case 2:case 3:this.step_count++;break}return this.frontier.length>this.frontier_size&&(this.frontier_size=this.frontier.length),this.reached.size>this.reached_size&&(this.reached_size=this.reached.size),t}}class H extends m{_step(){if(!this.current)throw"No current node selected!";if(this.is_goal(this.current.state.node.id))return 1;if(this.frontier_is_empty())return 0;this.current=this.pop_frontier();for(const t of this.expand()){const e=t.state.node.id;this.reached.has(e)||(this.reached.set(e,t),this.push_frontier(t))}return 2}}class q extends m{_step(){if(!this.current)throw"No current node selected!";if(this.is_goal(this.current.state.node.id))return 1;if(this.frontier_is_empty())return 0;this.current=this.shift_frontier();for(const t of this.expand()){const e=t.state.node.id;this.is_in_cycle(e)||this.push_frontier(t)}return 2}}class S extends m{#t=h(1);get until_depth(){return n(this.#t)}set until_depth(t){o(this.#t,t,!0)}max_depth=1/0;deepen(){return this.until_depth+=1,super.start(this.init,this.goal,!1)}start(t,e){return this.until_depth=1,super.start(t,e)}_step(){if(!this.current)throw"No current node selected!";if(this.is_goal(this.current.state.node.id))return 1;if(this.frontier_is_empty())return this.deepen();if(this.current=this.shift_frontier(),this.current.depth>=this.until_depth)return 2;for(const t of this.expand()){const e=t.state.node.id;this.is_in_cycle(e)||this.push_frontier(t)}return 2}}class C extends S{_step(){if(!this.current)throw"No current node selected!";if(this.is_goal(this.current.state.node.id))return 1;if(this.frontier_is_empty())return this.deepen();if(this.current=this.shift_frontier(),this.current.depth>=this.until_depth)return 2;for(const t of this.expand(2)){const e=t.state.node.id;this.is_in_cycle(e)||this.push_frontier(t)}return 2}}class F extends C{heuristic=g}class G extends F{heuristic=g;weight=z}class V extends S{start(t,e){return this.branch_roots.clear(),super.start(t,e)}_step(){if(!this.current)throw"No current node selected!";if(this.is_goal(this.current.state.node.id))return 1;if(this.frontier_is_empty())return this.deepen();if(this.current=this.shift_frontier(),this.current.depth>=this.until_depth)return 3;let t=0;for(const e of this.expand(2)){const i=e.state.node.id;!this.is_in_cycle(i)&&!this.reached.has(i)&&(this.push_frontier(e),t++)}return t>1?this.branch_roots.set(this.current.state.node.id,{...this.current,branching_factor:t}):t===0&&this.prune(this.current),2}}class k extends m{_step(){if(!this.current)throw"No current node selected!";if(this.is_goal(this.current.state.node.id))return 1;if(this.frontier_is_empty())return 0;this.current=this.pop_frontier();for(const t of this.expand()){const e=t.state.node.id,i=this.reached.get(e);(!i||this.total_cost(t)<this.total_cost(i))&&(this.reached.set(e,t),this.push_frontier(t),this.frontier.sort((s,a)=>this.total_cost(s)-this.total_cost(a)))}return 2}}class j extends k{heuristic=g;weight=z}class K extends k{heuristic=g}function R(r,t){return{x:r||0,y:t||r||0}}function W(r,t){r.x+=t.x,r.y+=t.y}function A(r,t){return{x:r.x-t.x,y:r.y-t.y}}function O(r,t){return r.x*t.x+r.y*t.y}function U(r){return O(r,r)}function T(r){return Math.sqrt(U(r))}function Y(r,t){return{x:r.x*t,y:r.y*t}}function $(r,t){r.x*=t,r.y*=t}function Z(r,t){return T(A(r,t))}export{K as A,H as B,q as D,G,S as I,B as N,C as O,E as S,L as a,k as b,j as c,V as d,F as e,A as f,W as g,Y as h,T as i,$ as j,Z as k,y as l,P as n,R as v};
